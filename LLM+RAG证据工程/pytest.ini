[pytest]
# Pytest configuration for LLM+RAG证据工程
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Coverage settings
addopts =
    --verbose
    --strict-markers
    --tb=short
    --cov=src/dr
    --cov-report=html:htmlcov
    --cov-report=term-missing:skip-covered
    --cov-fail-under=60

# Markers for categorizing tests
markers =
    unit: Unit tests (fast, no I/O)
    integration: Integration tests (slower, with I/O)
    slow: Slow tests (> 1 second)
    pubmed: Tests requiring PubMed API
    llm: Tests requiring Ollama LLM

# Logging
log_cli = true
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)s] %(message)s
log_cli_date_format = %H:%M:%S

# Parallel execution
# Run with: pytest -n auto
