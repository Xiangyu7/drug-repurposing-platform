# KG Explain 基础配置
# 所有版本共享的配置

paths:
  data_dir: ./data
  output_dir: ./output
  cache_dir: ./cache

# API端点
api:
  ctgov: "https://clinicaltrials.gov/api/v2/studies"
  rxnorm: "https://rxnav.nlm.nih.gov/REST/approximateTerm.json"
  chembl: "https://www.ebi.ac.uk/chembl/api/data"
  reactome: "https://reactome.org/ContentService"
  opentargets: "https://api.platform.opentargets.org/api/v4/graphql"
  faers: "https://api.fda.gov/drug/event.json"

# HTTP请求设置
http:
  timeout: 60
  max_retries: 5
  page_size: 200

# 临床试验筛选
trial_filter:
  statuses:
    - TERMINATED
    - WITHDRAWN
    - SUSPENDED
  max_pages: 20

# 文件名映射
files:
  failed_trials: failed_trials_drug_rows.csv
  drug_summary: failed_drugs_summary.csv
  rxnorm_map: drug_rxnorm_map.csv
  chembl_map: drug_chembl_map.csv
  drug_target: edge_drug_target.csv
  node_target: node_target.csv
  target_xref: target_xref.csv
  target_ensembl: target_chembl_to_ensembl_all.csv
  target_pathway: edge_target_pathway_all.csv
  gene_disease: edge_target_disease_ot.csv
  gene_pathway: edge_gene_pathway.csv
  pathway_disease: edge_pathway_disease.csv
  # V5 新增
  disease_phenotype: edge_disease_phenotype.csv
  drug_ae: edge_drug_ae_faers.csv
  trial_ae: edge_trial_ae.csv
  # Signature 模式新增
  drug_from_signature: drug_from_signature.csv
  drug_known_indications: drug_known_indications.csv

# 默认排序参数
rank:
  topk_paths_per_pair: 10
  topk_pairs_per_drug: 50
  hub_penalty_lambda: 1.0
  support_gene_boost: 0.15

# 表型查询时额外纳入的核心疾病 EFO ID (确保它们的表型被获取)
core_disease_ids:
  - EFO_0003914   # atherosclerosis
  - EFO_0000378   # coronary artery disease
  - EFO_0004698   # myocardial infarction
  - EFO_0003770   # peripheral arterial disease
  - EFO_0000537   # hyperlipidemia
  - EFO_0001360   # type 2 diabetes
  - EFO_0000729   # stroke / cerebrovascular disease
  - EFO_0001645   # coronary heart disease
  - EFO_0003884   # heart failure

# 质量门控
quality_gate:
  thresholds:
    "hit@10": 0.50
    mrr: 0.25
    "ndcg@10": 0.30
  regression_tolerance: 0.05
  warning_margin: 0.03
  registry_path: ./output/model_registry.json
